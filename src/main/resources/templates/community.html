<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>kirikiri - Community</title>

    <link rel="stylesheet" href="/css/community.css" />
    <link rel="stylesheet" href="/css/reset.css" />
    <script type="text/javascript" src="/javascript/community.js"></script>
    <link href="https://webfontworld.github.io/pretendard/Pretendard.css" rel="stylesheet">
    <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.js"></script>
  </head>
  <body>
    <div id="main">
<!--      왼쪽-->
      <div id="left-div">

<!--        인기태그-->
        <ul id="popular-tag">
          <p>#인기 태그</p>
          <div>
            <li><a href="">#java</a><span>68</span></li>
            <li><a href="">#javascript</a><span>40</span></li>
            <li><a href="">#react</a><span>29</span></li>
            <li><a href="">#springboot</a><span>29</span></li>
            <li><a href="">#spring</a><span>28</span></li>
          </div>
        </ul>

<!--        광고-->
        <a><img id="left-side-img" src="/img/community-1668664024096.png"></a>

<!--        Top Writers-->
        <ul id="top-writers">
          <p>Top Writers</p>
          <div>
            <li>
              <div class="top-user">
                <a><img src="/img/community-profile.png">고등어통조림</a>
              </div>
              <div class="posts">
                <img><span>200</span>
              </div>
            </li>
            <li>
              <div class="top-user">
                <a><img src="/img/community-profile.png">kemu</a>
              </div>
              <div class="posts">
                <img><span>132</span>
              </div>
            </li>
            <li>
              <div class="top-user">
                <a><img src="/img/community-profile.png">무명시인</a>
              </div>
              <div class="posts">
                <img><span>115</span>
              </div>
            </li>
            <li>
              <div class="top-user">
                <a><img src="/img/community-profile.png">leemong77</a>
              </div>
              <div class="posts">
                <img><span>98</span>
              </div>
            </li>
            <li>
              <div class="top-user">
                <a><img src="/img/community-profile.png">목다방고양이</a>
              </div>
              <div class="posts">
                <img><span>96</span>
              </div>
            </li>
          </div>
        </ul>
      </div>

<!--      ===========================================================================================-->

<!--      중앙-->
      <div id="center-div">
        <a href="">
          <img src="/img/community-1670485527069.jpg">
        </a>
        <div id="board-category">
          <div id="board-category-background">
            <div></div>
          </div>
          <div id="board-category-text">
            <h1 th:text="${boardDTO.categoryName}"></h1>
            <p>다양한 사람을 만나고 생각의 폭을 넓혀보세요.</p>
          </div>
        </div>

<!--        작성하기, 카테고리, 정렬 버튼-->
        <div id="button-group" th:object="${boardDTO}">
          <a id="write-post-button" th:href="@{/new(categoryName=*{categoryName})}">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" class="h-4 w-4"><path d="M21.731 2.269a2.625 2.625 0 00-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 000-3.712zM19.513 8.199l-3.712-3.712-12.15 12.15a5.25 5.25 0 00-1.32 2.214l-.8 2.685a.75.75 0 00.933.933l2.685-.8a5.25 5.25 0 002.214-1.32L19.513 8.2z"></path></svg>
            <span>작성하기</span>
          </a>
          <div class="board-detail-category" th:if="*{categoryName} == 'Counseling'">
            <a th:href="@{/board(categoryName = *{categoryName}, detailCategoryName = 'Home')}">Home</a>
            <a th:href="@{/board(categoryName = *{categoryName}, detailCategoryName = 'Work')}">Work</a>
            <a th:href="@{/board(categoryName = *{categoryName})}">All</a>
          </div>
          <div class="board-detail-category" th:if="*{categoryName} == 'Play'">
            <a th:href="@{/board(categoryName = *{categoryName}, detailCategoryName = 'Food')}">Food</a>
            <a th:href="@{/board(categoryName = *{categoryName}, detailCategoryName = 'Playground')}">Playground</a>
            <a th:href="@{/board(categoryName = *{categoryName})}">All</a>
          </div>
          <div class="board-detail-category" th:if="*{categoryName} == 'Job'">
            <a th:href="@{/board(categoryName = *{categoryName}, detailCategoryName = 'Offer')}">Offer</a>
            <a th:href="@{/board(categoryName = *{categoryName}, detailCategoryName = 'Search')}">Search</a>
            <a th:href="@{/board(categoryName = *{categoryName})}">All</a>
          </div>
          <div id="sort">
            <button id="sort-button">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" class="h-5 w-5"><path stroke-linecap="round" stroke-linejoin="round" d="M3 4.5h14.25M3 9h9.75M3 13.5h9.75m4.5-4.5v12m0 0l-3.75-3.75M17.25 21L21 17.25"></path></svg>
              <span>최신순</span>
            </button>
            <input type="checkbox" id="sort-check">
            <div id="sort-type">
              <a th:href="@{/board(categoryName = *{categoryName}, detailCategoryName = *{detailCategoryName})}">최신순</a>
              <a th:href="@{/board(categoryName = *{categoryName}, detailCategoryName = *{detailCategoryName}, sortType = 2)}">추천순</a>
<!--              <button type="button">댓글순</button>-->
<!--              <a>스크랩순</a>-->
              <a th:href="@{/board(categoryName = *{categoryName}, detailCategoryName = *{detailCategoryName}, sortType = 3)}">조회순</a>
            </div>
          </div>
        </div>

<!--        새로고침, 검색, 페이지 버튼-->
        <div id="button-group2">
          <button id="refresh">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" class="h-5 w-5 text-gray-500 hover:cursor-pointer hover:text-blue-500 dark:text-gray-400 dark:hover:text-blue-200"><path stroke-linecap="round" stroke-linejoin="round" d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"></path></svg>
          </button>
          <form id="search" action="/board/search" method="get">
            <button type="submit">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" class="h-3.5 w-3.5 text-gray-500 hover:text-blue-500 dark:text-gray-400 dark:hover:text-blue-200"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"></path></svg>
            </button>
            <input th:field="${boardDTO.keyword}" type="text" placeholder="커뮤니티 내에서 검색">
          </form>
          <div id="page-move">
            <span th:text="${pagination.page}"></span><span>/</span><span th:text="${pagination.endPage}"></span> 페이지</span>
            <a class="prev" th:href="@{/board(categoryName = ${boardDTO.categoryName}, detailCategoryName = ${boardDTO.detailCategoryName}, sortType = ${boardDTO.sortType}, page = ${pagination.page - 1})}">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" class="text-gray-300 dark:text-gray-700 h-4 w-4"><path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"></path></svg>
            </a>
            <a class="next" th:href="@{/board(categoryName = ${boardDTO.categoryName}, detailCategoryName = ${boardDTO.detailCategoryName}, sortType = ${boardDTO.sortType}, page = ${pagination.page + 1})}">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" class="hover:cursor-pointer hover:text-blue-500 dark:hover:text-blue-200 h-4 w-4"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"></path></svg>
            </a>
          </div>
        </div>


<!--        게시글 목록-->
        <div id="post-list">
          <th:block th:each="board:${boards}">
            <div class="post" th:object="${board}">
              <div class="post-first-line">
                <a href=""><img class="profile-picture" src="/img/community-profile2.png" alt=""><span th:text="*{userId}"></span></a>
                <span> ㆍ </span>
                <span th:text="*{boardRegisterDate}"></span>
              </div>
              <div class="post-second-line">
                <a th:href="@{/post(boardId=*{boardId})}" th:text="*{boardTitle}"></a>
              </div>
              <div class="post-third-line">
                <div class="tag-link">
                  <a th:href="@{/board(categoryName = *{categoryName})}" th:text="*{categoryName}"></a>
                </div>
                <div class="user-reaction">
                  <div>
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" class="h-5 w-5"><path stroke-linecap="round" stroke-linejoin="round" d="M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"></path><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
                    <span th:text="*{boardViews}"></span>
                  </div>
                  <div>
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" class="h-5 w-5"><path stroke-linecap="round" stroke-linejoin="round" d="M8.625 9.75a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H8.25m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H12m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0h-.375m-13.5 3.01c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.184-4.183a1.14 1.14 0 01.778-.332 48.294 48.294 0 005.83-.498c1.585-.233 2.708-1.626 2.708-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0012 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018z"></path></svg>
                    <span>12</span>
                  </div>
                  <div>
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" class="h-5 w-5"><path stroke-linecap="round" stroke-linejoin="round" d="M8.25 15L12 18.75 15.75 15m-7.5-6L12 5.25 15.75 9"></path></svg>
                    <span th:text="*{boardLikes}"></span>
                  </div>
                </div>
              </div>
            </div>
          </th:block>
        </div>

<!--        paging-->
        <div id="page-move-bottom" th:object="${pagination}">
          <a class="prev" th:href="@{/board(categoryName = ${boardDTO.categoryName}, detailCategoryName = ${boardDTO.detailCategoryName}, sortType = ${boardDTO.sortType}, page = *{page} - 1)}"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" class="h-4 w-4"><path stroke-linecap="round" stroke-linejoin="round" d="M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"></path></svg>
            Previous</a>
          <div id="page">
            <div th:if="*{page} < 5">
              <a class="change-page" th:href="@{/board(categoryName = ${boardDTO.categoryName}, detailCategoryName = ${boardDTO.detailCategoryName}, sortType = ${boardDTO.sortType}, page = 1)}">1</a>
              <a class="change-page" th:href="@{/board(categoryName = ${boardDTO.categoryName}, detailCategoryName = ${boardDTO.detailCategoryName}, sortType = ${boardDTO.sortType}, page = 2)}">2</a>
              <a class="change-page" th:href="@{/board(categoryName = ${boardDTO.categoryName}, detailCategoryName = ${boardDTO.detailCategoryName}, sortType = ${boardDTO.sortType}, page = 3)}">3</a>
              <a class="change-page" th:href="@{/board(categoryName = ${boardDTO.categoryName}, detailCategoryName = ${boardDTO.detailCategoryName}, sortType = ${boardDTO.sortType}, page = 4)}">4</a>
              <a class="change-page" th:href="@{/board(categoryName = ${boardDTO.categoryName}, detailCategoryName = ${boardDTO.detailCategoryName}, sortType = ${boardDTO.sortType}, page = 5)}">5</a>
              <a class="change-page" th:href="@{/board(categoryName = ${boardDTO.categoryName}, detailCategoryName = ${boardDTO.detailCategoryName}, sortType = ${boardDTO.sortType}, page = *{page + 3})}"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" class="h-3 w-3 opacity-80"><path stroke-linecap="round" stroke-linejoin="round" d="M6.75 12a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM12.75 12a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM18.75 12a.75.75 0 11-1.5 0 .75.75 0 011.5 0z"></path></svg></a>
              <a class="change-page" th:href="@{/board(categoryName = ${boardDTO.categoryName}, detailCategoryName = ${boardDTO.detailCategoryName}, sortType = ${boardDTO.sortType}, page = *{endPage})}" th:text="*{endPage}"></a>
            </div>

            <div th:if="*{page} > *{endPage - 4}">
              <a class="change-page" th:href="@{/board(categoryName = ${boardDTO.categoryName}, detailCategoryName = ${boardDTO.detailCategoryName}, sortType = ${boardDTO.sortType}, page = *{startPage})}" th:text="*{startPage}"></a>
              <a class="change-page" th:href="@{/board(categoryName = ${boardDTO.categoryName}, detailCategoryName = ${boardDTO.detailCategoryName}, sortType = ${boardDTO.sortType}, page = *{page} - 3)}"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" class="h-3 w-3 opacity-80"><path stroke-linecap="round" stroke-linejoin="round" d="M6.75 12a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM12.75 12a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM18.75 12a.75.75 0 11-1.5 0 .75.75 0 011.5 0z"></path></svg></a>
              <a class="change-page" th:href="@{/board(categoryName = ${boardDTO.categoryName}, detailCategoryName = ${boardDTO.detailCategoryName}, sortType = ${boardDTO.sortType}, page = *{endPage - 4})}" th:text="*{endPage} - 4"></a>
              <a class="change-page" th:href="@{/board(categoryName = ${boardDTO.categoryName}, detailCategoryName = ${boardDTO.detailCategoryName}, sortType = ${boardDTO.sortType}, page = *{endPage - 3})}" th:text="*{endPage} - 3"></a>
              <a class="change-page" th:href="@{/board(categoryName = ${boardDTO.categoryName}, detailCategoryName = ${boardDTO.detailCategoryName}, sortType = ${boardDTO.sortType}, page = *{endPage - 2})}" th:text="*{endPage} - 2"></a>
              <a class="change-page" th:href="@{/board(categoryName = ${boardDTO.categoryName}, detailCategoryName = ${boardDTO.detailCategoryName}, sortType = ${boardDTO.sortType}, page = *{endPage - 1})}" th:text="*{endPage} - 1"></a>
              <a class="change-page" th:href="@{/board(categoryName = ${boardDTO.categoryName}, detailCategoryName = ${boardDTO.detailCategoryName}, sortType = ${boardDTO.sortType}, page = *{endPage})}" th:text="*{endPage}"></a>
            </div>


            <div th:if="*{page} >= 5 and *{page} <= *{endPage - 4}">
              <a class="change-page" th:href="@{/board(categoryName = ${boardDTO.categoryName}, detailCategoryName = ${boardDTO.detailCategoryName}, sortType = ${boardDTO.sortType}, page = *{startPage})}" th:text="*{startPage}"></a>
              <a class="change-page" th:href="@{/board(categoryName = ${boardDTO.categoryName}, detailCategoryName = ${boardDTO.detailCategoryName}, sortType = ${boardDTO.sortType}, page = *{page - 3})}"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" class="h-3 w-3 opacity-80"><path stroke-linecap="round" stroke-linejoin="round" d="M6.75 12a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM12.75 12a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM18.75 12a.75.75 0 11-1.5 0 .75.75 0 011.5 0z"></path></svg></a>
              <a class="change-page" th:href="@{/board(categoryName = ${boardDTO.categoryName}, detailCategoryName = ${boardDTO.detailCategoryName}, sortType = ${boardDTO.sortType}, page = *{page - 1})}" th:text="*{page} - 1"></a>
              <a class="change-page" th:href="@{/board(categoryName = ${boardDTO.categoryName}, detailCategoryName = ${boardDTO.detailCategoryName}, sortType = ${boardDTO.sortType}, page = *{page})}" th:text="*{page}"></a>
              <a class="change-page" th:href="@{/board(categoryName = ${boardDTO.categoryName}, detailCategoryName = ${boardDTO.detailCategoryName}, sortType = ${boardDTO.sortType}, page = *{page + 1})}" th:text="*{page} + 1"></a>
              <a class="change-page" th:href="@{/board(categoryName = ${boardDTO.categoryName}, detailCategoryName = ${boardDTO.detailCategoryName}, sortType = ${boardDTO.sortType}, page = *{page + 3})}"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" class="h-3 w-3 opacity-80"><path stroke-linecap="round" stroke-linejoin="round" d="M6.75 12a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM12.75 12a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM18.75 12a.75.75 0 11-1.5 0 .75.75 0 011.5 0z"></path></svg></a>
              <a class="change-page" th:href="@{/board(categoryName = ${boardDTO.categoryName}, detailCategoryName = ${boardDTO.detailCategoryName}, sortType = ${boardDTO.sortType}, page = *{endPage})}" th:text="*{endPage}"></a>
            </div>

          </div>
          <a class="next" th:href="@{/board(categoryName = ${boardDTO.categoryName}, detailCategoryName = ${boardDTO.detailCategoryName}, sortType = ${boardDTO.sortType}, page = *{page} + 1)}">
            Next <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-4 w-4"><path stroke-linecap="round" stroke-linejoin="round" d="M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"></path></svg></a>
        </div>
      </div>
      <!--      ===========================================================================================-->



<!--      오른쪽-->
      <div id="right-div">
        <a><img class="right-side-advertisement" src="../static/img/k-digital-trainning.jpg"></a>
        <a><img class="right-side-advertisement" src="../static/img/k-digital-trainning.jpg"></a>
      </div>
    </div>
    <script th:inline="javascript">
      let page = [[${pagination.page}]]
      let start = [[${pagination.startPage}]];
      let end = [[${pagination.endPage}]];
      let prev = document.getElementsByClassName("prev");
      let next = document.getElementsByClassName("next");

      for(let i = 0; i < prev.length; i++) {
        if (page === start) {
          prev[i].style.color = "hsla(220, 9%, 46%, 0.3)";
          prev[i].style.cursor = "default";
          prev[i].addEventListener("click", function (e) {
            e.preventDefault();
          })
        }
        if (page === end) {
          next[i].style.color = "hsla(220, 9%, 46%, 0.3)";
          next[i].style.cursor = "default";
          next[i].addEventListener("click", function (e) {
            e.preventDefault();
          })
        }
      }



      let changePage = document.getElementsByClassName("change-page");
      let i = 0;
      for(; i < changePage.length; i++){
        if(changePage[i].innerText == page) break;
      }
      console.log(changePage[i].innerText)
      changePage[i].style.color = "#8BC34A";
      changePage[i].style.borderTopColor = "#8BC34A";
      changePage[i].style.borderTopStyle = "solid";
      changePage[i].style.borderTopWidth = "1px";
      changePage[i].style.lineHeight = "61px";
      changePage[i].addEventListener("click", function (e) {
        e.preventDefault();
      })


    </script>
  </body>
</html>
